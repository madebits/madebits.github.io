#A Minimal GitHub Static Site

2014-11-14

I decided to move my free content to GitHub. It is somehow the end of an *era*. In place of having self hosted web sites, now everything is moving to some sort of cloud service. My main goal was to back-port some of my old and articles and code to GitHub to save them from being lost. GitHub alternative affects dependency, price, and openness: 

* Dependency on third-party services is more visible and more distributed. No one really cares nowadays to hide their "*.github.io" domain (thought it is possible to do so). Trust on cloud service quality is proportional to how popular the service is. Trust aside, GitHub makes it easy to have own backups of the stuff put there. There is a REST API to use to list repositories (that I used) and then you can backup all stuff using just git. I hope the GitHub REST API parts, I am using, will remain stable.

* GitHub is free, at least the basic plan I use. The crowd brings people, looking for something *"free"* and in-between, also those few willing to pay for the rest. If GitHub ever changes its free policy, I can always move to somewhere else.

* GitHub content is public, and at least this is how most people generally perceive it when hearing "I am on GitHub". Interestingly, GitHub makes its money by selling private plans where the stuff is not public, so there is still value on having some things private. Given the full openness of GitHub's free plan, I do not like listing on GitHub all side-projects I start. Most of them are rubbish to test something that I never finish. Having a cloud service to share work between my machines still helps even at that stage. I use [BitBucket](https://bitbucket.org/) for my private stuff - it is free even for private repositories. BitBucket also supports having repositories public at wish, but GitHub is more popular for that.

GitHub supports hosting static web pages and offers a tool (*jekyll*) to generate GitHub pages from markdown content. I did not want to use *jekyll* as I do not want to install *Ruby* everywhere, but I still wanted a minimal generated GitHub site that was easy to maintain. My web site design goals were:

* I should be able to host my site at GitHub pages for free (obvious) with as few dependencies as needed, but no more. Minimizing dependencies is still a design factor nowadays, thought not as important as it used to be. I rely now on Git (Bash) and several JavaScript libraries.

* I wanted to use [markdown](http://daringfireball.net/projects/markdown/). I can write easily HTML manually, but Markdown makes the formating noise less visible and let me focus better on content. Markdown text can be read easy alone without needing to convert it to HTML. I cannot handle everything for this site in Markdown, but the bulk of the text content will be in Markdown.

* I do not want to convert the site locally and store it as HTML in GitHub. I decided to convert markdown documents in client using JavaScript. There is only a single entry page *index.html*. Client-side routing is used to navigate to a markdown page, load it via jQuery and parse to HTML. One thing JavaScript code cannot handle (in client) is to generate some sort of navigation over markdown files. I decided to solve this problem i) by convention and ii) by a *bash* script - given that Bash along with minimal GNU tools is available whenever *Git* is. The convention I follow is to name pages as *YYYY-MM-DD title.md*. They can be put in any sub-folder under the *content* folder. The script has to be run locally after adding a new post file, or when a post is updated.

* It should be a combination of a blog-like site along with additional permanent content. I can have any combination of *.md* and plain *.html* files. I created a simple, but full featured, on-line markdown editor to help me edit markdown files and preview them in real-time in browser. To run and test the whole site [locally](http://127.0.0.1:12345), I can use any web server, for example: `python -m http.server -b 127.0.0.1 12345` or `php -S 127.0.0.1:12345`. To test the pages on low bandwidth (32KB/s) I used:
		sudo apt-get install trickle
		trickle -d 32 -u 16 firefox

One drawback of my approach is that it is hard to impossible for a search engine to [scan](https://developers.google.com/webmasters/ajax-crawling/) the content of this site (thought Google is [doing](http://googlewebmastercentral.blogspot.ca/2014/05/understanding-web-pages-better.html) that.). While my site does not follow the book to be search engine friendly, I still make it possible to find content automatically. I link GitHub and the plain *.md* files are there. I added an *Atom* feed that is easy to parse. I also generate a page for clients without JavaScript with links to both plain markdown files and their JavaScript wrapped version. There will be some way, even thought not direct, to find my content. 

I managed to port back most of my stuff I can publicly share that I could find. This is only a small part of code and content I have ever created. Some stuff, I considered as not worth enough to be open is left out and will eventually get lost. The code is not particularly good and may not have any particular value to anyone, but it has at least some historical value for me. Not all code shares same level of quality - most of it was never intended to be shown to anyone, just to do something quickly. Code reflects the motivation and the time spent of it. I evolve, my existing code (and the challenges to write new code) remain same.

A benefit of hosting pages to GitHub (if that works for you) is *Git*. Git is a CS101 puzzle that keeps most normal mortals out of GitHub. With most classic web hosting providers, what you get is space and a way to copy up and down files (FTP, SFTP, etc). Unless you pay for some VPS, you cannot run rsync or something similar, and you end up transferring more data than needed. With GitHub pages, Git is used as deployment tool. This is perfect for static files, as only the difference is transmitted. The source control is integrated on same place and tool as deployment. As I found out, it is sometimes better to clean up the history rather than have it around (given no everyone may be happy about it) and manipulate timestamps and Git(Hub) can handle that too. By the way Git itself works, a complete, up-to-date, local backup is always available.

<ins class='nfooter'><a id='fprev' href='#blog/2014/2014-12-12-Using-DNSCrypt-on-Ubuntu-14.04.md'>Using DNSCrypt on Ubuntu 14.04</a> <a id='fnext' href='#blog/2014/2014-11-08-Moving-Ubuntu-Hard-Disk-to-a-New-Machine.md'>Moving Ubuntu Hard Disk to a New Machine</a></ins>
